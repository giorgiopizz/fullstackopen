{"version":3,"sources":["services/person.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","id","put","delete","Filter","value","handler","onChange","PersonForm","handSumbit","valName","handName","valNum","handNumber","onSubmit","type","Person","handleDelete","name","number","onClick","Notification","notificationMessage","style","description","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","message","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setNotification","useEffect","personService","initialPersons","shownPersons","length","filter","toUpperCase","includes","event","target","preventDefault","undefined","find","element","returnedPerson","concat","setTimeout","window","confirm","oldPerson","personObject","newPersons","map","catch","reason","console","log","el","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc5ec02c.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = ()=>{\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response=>response.data);\r\n}\r\n\r\nconst create = (person) =>{\r\n    const request = axios.post(baseUrl, person)\r\n    return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, person) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, person)\r\n    return request.then(response => response.data);\r\n}\r\n\r\n\r\nconst del = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response.data);\r\n}\r\n\r\nexport default {getAll, create, update, del};","import React from \"react\";\r\n\r\nconst Filter = ({ value, handler }) => {\r\n    return (\r\n        <>\r\n            filter shown with:\r\n            <input value={value} onChange={handler} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\n\r\nconst PersonForm = ({ handSumbit, valName, handName, valNum, handNumber }) => {\r\n    return (\r\n        <form onSubmit={handSumbit}>\r\n            <div>\r\n                name: <input value={valName} onChange={handName} />\r\n                <br />\r\n        number: <input value={valNum} onChange={handNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <>\r\n            <p>\r\n                {person.name}: {person.number}\r\n                {\"   \"}<button onClick={handleDelete}>delete</button>\r\n            </p>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Person;\r\n","\r\nimport React from \"react\";\r\n\r\nconst Notification = ({ notificationMessage }) => {\r\n    const error = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const good = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    if (notificationMessage === null) {\r\n        return null\r\n    }\r\n    const style = notificationMessage.description === 'good' ? good : error\r\n\r\n    return (\r\n        <div style={style}>\r\n            {notificationMessage.message}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/person\";\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\n\n\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [notificationMessage, setNotification] = useState(null);\n\n\n  useEffect(() => {\n    personService.getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons)\n      }\n      );\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n    // this changes shownPersons\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.find((element) => element.name === newName) === undefined) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          setNotification({\n            message: `Added ${returnedPerson.name}`,\n            description: 'good'\n          });\n          setTimeout(() => setNotification(null), 5000);\n        })\n\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const oldPerson = persons.find((element) => element.name === newName);\n        const personObject = {\n          ...oldPerson,\n          number: newNumber\n        };\n        personService\n          .update(oldPerson.id, personObject)\n          .then(returnedPerson => {\n            const newPersons = persons.map(person => (person.id !== oldPerson.id) ? person : returnedPerson)\n            setPersons(newPersons);\n          })\n          .catch(reason => {\n            console.log(reason);\n            setNotification({\n              message: `Information of ${oldPerson.name} has already been removed from server`,\n              description: 'error'\n            });\n            setTimeout(() => setNotification(null), 5000);\n            setPersons(persons.filter(person => person.id !== oldPerson.id))\n          })\n\n      }\n    }\n  };\n\n  const shownPersons =\n    newSearch.length === 0\n      ? persons\n      : persons.filter((person) =>\n        person.name.toUpperCase().includes(newSearch.toUpperCase())\n      );\n\n\n\n\n  const handleDeleteOf = (id) => {\n    if (window.confirm(`Are you sure to delete ${persons.find(el => el.id === id).name}?`)) {\n      console.log(\"delete element: \" + id)\n      personService.del(id)\n        .then(returnedPerson => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n\n  }\n\n\n\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notificationMessage={notificationMessage} />\n      <Filter value={newSearch} handler={handleSearchChange} />\n\n      <h2>Add a new</h2>\n\n      <PersonForm\n        handSumbit={handleSubmit}\n        valName={newName}\n        handName={handleNameChange}\n        valNum={newNumber}\n        handNumber={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      {shownPersons.map((person) => <Person person={person} handleDelete={() => handleDeleteOf(person.id)} key={person.id} />)}\n    </div>\n  );\n};\n\nexport default App;\n","\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}